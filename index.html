<!DOCTYPE html>
<html>
<body>
<h1>Hello World</h1>
<p>I'm hosted with GitHub Pages.</p>

<div id="referral-container">
    <script>
      // Extract the referral code from the URL
      const urlParams = new URLSearchParams(window.location.search);
      const refCode = urlParams.get('ref');
  
      if (refCode) {
        // Save the referral code as a cookie for later use
        document.cookie = `referralCode=${refCode}; path=/; max-age=${60 * 60 * 24 * 30}`; // Expires in 30 days
  
        // Track the referral click by sending the referral code to your Web App
        fetch('https://script.google.com/macros/s/AKfycbzV8eI3Cw_de8oEJ5JONkEGfwmGKiq2hVaQtS1452K2CkxsUGfDOnKX7ZhJIK3BMooD/exec', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ action: 'click', refCode })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            console.log('Referral click tracked successfully');
          } else {
            console.error('Error tracking referral click');
          }
        });
      }
  
      // Redirect the user to the Chrome Web Store
      window.location.href = 'https://chrome.google.com/webstore/detail/your-extension-id';
    </script>
  </div>
  
</body>
</html>